\chapter{Background}

\section{Financial Instruments}

A financial security is a legal claim on a firm's asset or income 
that is traded in an organized market\cite{alexander2008market}.
A portfolio is a number of positions in such securities like common
stock or debt-based instruments such as bonds.
%and other types of financial instruments. 

These instruments are typically traded on an exchange such as 
\href{http://www.nasdaqomxnordic.com/}{NASDAQ OMX Nordic}, but so-called
\emph{over-the-counter} (OTC) products also exist where two parties enter
a unilateral, legally binding, trade.\\
The value of an instrument can be computed to reflect the theoretical 
value it would have if it existed today to allow investors to assess
whether resources could yield higher returns elsewhere.\\

Financial instruments are priced differently, some using closed-form functions
and others relying on stochastic simulation such as Monte Carlo to replicate 
random-walk behaviour of stock prices\cite{HULL}.

% FI, Interest rates
In this project we shall focus on contracts where closed-form solutions are
available. Such contracts are ubiquitous in the debt market (also called fixed
income), and determining their price depends on the observable market interest
rates. The rates indicate how much an institution is willing to pay you for
managing your funds for a given period of time, introducing the concept
\emph{time value of money}. Intuitively, interest payment (or coupon) is
the cash value of the opportunity cost caused by having your funds tied up.\\
Therefore an investor is able to gauge whether or not an investment will be
fruitful by comparing the dividend with what he or she would receive by 
depositing the money in the bank.\\
% Discounting
Implicitly, we have also introduced another concept called \emph{discounting},
which is simply a way of pricing a future cashflow by removing the interest
rate that could theoretically by earned in the current market. As payment structures
in fixed income products become more advanced, the investor from above will 
face difficulties when trying to allocate his resources just by looking at the
rates of the products. Discounting applies the time value of money to all
future income to scale them back to the present, resulting in the price (or
\emph{present value}) of the contract in question.\\

% Credit risk
In addition to the pricing mechanism presented above, we also briefly introduce
the notion of credit risk. Credit risk is a method of evaluating the creditworthiness
of a debitor, i.e. quantifying how likely it is that the counterpart will pay back 
its debt. This is not considered for exchange-traded products, as losses 
caused by defaults are covered by the members of the exchange\footnote{If a large 
exchange defaults the world economy would be in turmoil.}. However, for OTC
products, the evaluation of credit risk is critical as the consequences of a 
default of the counterparty lies solely with the opposing party. Since the 
financial crisis of 2008 this has become increasingly important for financial 
institutions, and \href{http://www.lchclearnet.com/}{clearing houses} have
been established to mitigate the 
domino effect of collapses of large financial institutions.

\section{Related work}

In terms of free software, the amount of quantitative finance libraries is 
limited.
The most prominent is Quantlib, an open-source C++ library\cite{Ame2003}
supporting a wide array of financial products ranging from bonds to more 
exotic derivatives. Many products share the same characteristics, and
Quantlib takes advantage of this by making heavy use of C++'s templates 
and multiple  inheritance to model the products at a high level of 
abstraction\cite{implql}
In this project we wish to model the same products as Quantlib using Haskell's
language constructs.\\

Hquantlib\cite{hquantlib} is an attempt at a Haskell port of Quantlib
but is still in its infancy and the
\href{https://github.com/paulrzcz/hquantlib/tree/master}{official repositories}
are approaching one year standstill.\\

Peyton Jones and Eber\cite{composingcontracts} developed a combinator library 
allowing users to define virtually any financial contract, making it a very
apt DSL for OTC products. Further, \href{http://www.lexifi.com/}{Lexifi} has developed 
\href{http://www.lexifi.com/product/technology/contract-description-language}{MLFi},
a closed contract description language that claims to support any combination of
underlying assets. In addition, such contract languages are frequently used in
banks such as the \textsc{Hiperfit} partners Lexifi, \href{www.simcorp.com}{SimCorp}
and Nordea. Such contract languages define a convenient interface for contracts
that are represented as lists of cashflows - an important point central in the
design and development of \hql.\\

As mentioned above, the Mathematica extension
\texttt{DerivativesExpert}\cite{Mathematica:DerivativesExpert} by Sinan Gabel
will form the basis of our project.
